<h1>Results</h1>

<p>Race results for triathlon race: <b>{{raceResults[0].resultRace.name}}</b> ({{raceResults[0].resultRace.raceFormatName}} distance) [{{raceResults[0].resultRace.year}}]</p>


<p *ngIf="!raceResults"><em>Loading...</em></p>
<div *ngIf="raceResults">
  <table class='table' *ngIf="raceResults">
    <thead>
      <tr>
        <th>FirstName</th>
        <th>LastName</th>
        <th>Age</th>
        <th>Swim</th>
        <th>T1</th>
        <th>Bike</th>
        <th>T2</th>
        <th>Run</th>
        <th>Total time</th>
        <!--<th>Add result</th>-->
        <th>Update result</th>
        <th>Details</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let raceresult of raceResults">
        <td>{{ raceresult.resultAthlete.firstName }}</td>
        <td>{{ raceresult.resultAthlete.lastName }}</td>
        <td>{{todayYear - (raceresult.resultAthlete.dob | date:'yyyy')}}</td>
        <td>{{ raceresult.timeSwim }}</td>
        <td>{{ raceresult.timeT1 }}</td>
        <td>{{ raceresult.timeBike }}</td>
        <td>{{ raceresult.timeT2 }}</td>
        <td>{{ raceresult.timeRun }}</td>
        <td>{{ raceresult.timeTotal }}</td>
        <!--<td><button type="button" class="btn btn-primary" data-toggle="modal" data-target="#myModal" (click)="addResult()">Add result</button></td>-->
        <td><button type="button" class="btn btn-primary" data-toggle="modal" data-target="#myModal" (click)="updateResult(raceresult)">Update result</button></td>
        <td><button type="button" class="btn btn-primary" data-toggle="modal" data-target="#myModal" (click)="details()">Details</button></td>
      </tr>
    </tbody>
  </table>
</div>
